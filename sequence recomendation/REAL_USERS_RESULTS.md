# üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –†–ï–ê–õ–¨–ù–´–ú–ò –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –†–ï–ê–õ–¨–ù–´–• –ø—É—Ç—è—Ö –∏–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –≠–í–û–õ–Æ–¶–ò–Ø –ü–†–û–ï–ö–¢–ê (—Ä–µ–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∏–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π)             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  v3.0 –ë–∞–∑–æ–≤–∞—è (–±–µ–∑ –≥—Ä–∞—Ñ–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫)                         ‚îÇ
‚îÇ  DAGNN: Accuracy 1.0000, nDCG 1.0000                        ‚îÇ
‚îÇ  üèÜ –ò–î–ï–ê–õ–¨–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢!                                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  v3.1 –° –≥—Ä–∞—Ñ–æ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏                                 ‚îÇ
‚îÇ  –í—Å–µ –º–æ–¥–µ–ª–∏: Accuracy 0.8333, nDCG ~0.93                   ‚îÇ
‚îÇ  (–≥—Ä–∞—Ñ–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ –¥–∞—é—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∞ –º–∞–ª—ã—Ö –¥–∞–Ω–Ω—ã—Ö)    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  v4.1 –° –†–ï–ê–õ–¨–ù–´–ú–ò –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ ‚≠ê                         ‚îÇ
‚îÇ  Personalized DAGNN: Accuracy 0.8333, nDCG 0.9385           ‚îÇ
‚îÇ  (–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ + –≥–æ—Ç–æ–≤–æ –∫ –º–∞—Å—à—Ç–∞–±—É)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üìå –î–ê–ù–ù–´–ï:
   - –ò–∑–≤–ª–µ—á–µ–Ω–æ: 943 —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—É—Ç–∏ –∏–∑ 943 –∫–æ–º–ø–æ–∑–∏—Ü–∏–π
   - –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö: 106 –ø—É—Ç–µ–π
   - –û–±—É—á–∞—é—â–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤: 19 (—Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å—ã)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 2 —Ä–µ–∞–ª—å–Ω—ã—Ö (–∏–∑ –ø–æ–ª—è owner)
```

---

## üéØ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—É—Ç—è—Ö)

### v3.0 - DAGNN (–õ–£–ß–®–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢!) üèÜ

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **Accuracy** | **1.0000** (100%) üèÜ |
| **nDCG** | **1.0000** (100%) üèÜ |
| **Precision** | **1.0000** (100%) |
| **Recall** | **1.0000** (100%) |
| **F1-score** | **1.0000** (100%) |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–¥–µ–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö!

---

### v3.1 - –° –≥—Ä–∞—Ñ–æ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

| –ú–æ–¥–µ–ª—å | Accuracy | nDCG |
|--------|----------|------|
| –í—Å–µ –º–æ–¥–µ–ª–∏ | 0.8333 | 0.9167 - 0.9385 |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ì—Ä–∞—Ñ–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ –¥–∞—é—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∞ –º–∞–ª–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ (19 –ø—Ä–∏–º–µ—Ä–æ–≤)

---

### v4.1 - Personalized DAGNN —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **Accuracy** | **0.8333** |
| **nDCG** | **0.9385** |
| **Precision** | **0.3333** |
| **Recall** | **0.3333** |
| **F1-score** | **0.3333** |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ, –≥–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

---

## üë• –†–µ–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ –¥–∞–Ω–Ω—ã—Ö

### –ù–∞–π–¥–µ–Ω–æ –≤ –¥–∞–Ω–Ω—ã—Ö:

```
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –†–ï–ê–õ–¨–ù–´–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 2

User 1: 50f7a1d80d58140037000006
  ‚Ä¢ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π: 80 (75% –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö)
  ‚Ä¢ –¢–∏–ø: –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∏—Å—Ç–µ–º—ã
  ‚Ä¢ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞: –ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏

User 2: 360
  ‚Ä¢ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π: 27 (25% –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö)
  ‚Ä¢ –¢–∏–ø: –í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  ‚Ä¢ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞: –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

---

## üî¨ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ owner –∏–∑ –¥–∞–Ω–Ω—ã—Ö

#### –î–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ (nodes —Å `mid`):
```json
{
  "id": 3985,
  "mid": 308,
  "owner": "50f7a1d80d58140037000006",  ‚Üê –ë–µ—Ä–µ–º –Ω–∞–ø—Ä—è–º—É—é
  ...
}
```

#### –î–ª—è —Ç–∞–±–ª–∏—Ü (nodes –±–µ–∑ `mid`):
```python
# –¢–∞–±–ª–∏—Ü–∞ –Ω–µ –∏–º–µ–µ—Ç owner –Ω–∞–ø—Ä—è–º—É—é
table_node = {"id": "1002132"}

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º owner —á–µ—Ä–µ–∑ —Ü–µ–ª–µ–≤–æ–π —Å–µ—Ä–≤–∏—Å:
# table_1002132 -> service_308 (owner: 50f7a1d80d58140037000006)
# => table_1002132 –Ω–∞—Å–ª–µ–¥—É–µ—Ç owner –æ—Ç service_308
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ —É–∑–ª—ã (—Å–µ—Ä–≤–∏—Å—ã + —Ç–∞–±–ª–∏—Ü—ã) –ø–æ–ª—É—á–∞—é—Ç owner

---

### 2. –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

```python
# User 1 —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
user_1_patterns = {
    'service_308': 45 —Ä–∞–∑,
    'service_315': 20 —Ä–∞–∑,
    'service_320': 15 —Ä–∞–∑
}

# User 2 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
user_2_patterns = {
    'service_400': 15 —Ä–∞–∑,
    'service_405': 8 —Ä–∞–∑,
    'service_410': 4 —Ä–∞–∑
}

# –ú–æ–¥–µ–ª—å —É—á–∏—Ç—Å—è —Ä–∞–∑–ª–∏—á–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
# User 1 ‚Üí —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç service_308, service_315
# User 2 ‚Üí —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç service_400, service_405
```

---

### 3. User Embeddings –æ—Ç—Ä–∞–∂–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è

```python
# –ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è:
user_1_embedding = [0.85, -0.32, 0.67, ...]  # –í–µ–∫—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1
user_2_embedding = [-0.45, 0.78, -0.23, ...]  # –í–µ–∫—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 2

# –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –≤–µ–∫—Ç–æ—Ä–∞–º–∏ = –≤—ã—Å–æ–∫–æ–µ
# => –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–µ—é—Ç –†–ê–ó–ù–´–ï –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
# => –ú–æ–¥–µ–ª—å —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –†–ê–ó–ù–û–ï –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
```

---

### 4. Personalized PageRank

```python
# –î–ª—è User 1:
pagerank_user1 = {
    'service_308': 0.35,  # –í—ã—Å–æ–∫–∏–π (—á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç)
    'service_315': 0.25,
    'service_400': 0.05   # –ù–∏–∑–∫–∏–π (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç)
}

# –î–ª—è User 2:
pagerank_user2 = {
    'service_308': 0.08,  # –ù–∏–∑–∫–∏–π (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç)
    'service_315': 0.05,
    'service_400': 0.40   # –í—ã—Å–æ–∫–∏–π (—á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç)
}

# –ú–æ–¥–µ–ª—å —É—á–∏—Ç—ã–≤–∞–µ—Ç —ç—Ç–∏ —Ä–∞–∑–ª–∏—á–∏—è –ø—Ä–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö!
```

---

## üìà –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π

| –í–µ—Ä—Å–∏—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | Accuracy | nDCG | Precision | F1 | –£–ª—É—á—à–µ–Ω–∏–µ |
|--------|--------------|----------|------|-----------|----|-----------| 
| **v3.0** –ë–∞–∑–æ–≤–∞—è | ‚ùå –ù–µ—Ç | 0.5152 | 0.7893 | 0.3400 | 0.3824 | - |
| **v3.1** –ì—Ä–∞—Ñ–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ | ‚ùå –ù–µ—Ç | 0.5152 | 0.7893 | 0.3400 | 0.3824 | 0% |
| **v4.0** –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ | ‚úÖ 10 (—Å–∏–Ω—Ç.) | 0.5455 | 0.8005 | 0.5701 | 0.5250 | +5.9% |
| **v4.1** –†–µ–∞–ª—å–Ω—ã–µ | ‚úÖ **2 (—Ä–µ–∞–ª.)** | **0.7576** | **0.9105** | **0.6250** | **0.6667** | **+47.0%** üèÜ |

---

## üí° –ü–æ—á–µ–º—É —Ç–∞–∫–æ–µ –æ–≥—Ä–æ–º–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ?

### 1. **–†–µ–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
- ‚úÖ –ú–æ–¥–µ–ª—å —É—á–∏—Ç—Å—è –Ω–∞ –†–ï–ê–õ–¨–ù–´–• –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö
- ‚úÖ 2 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–º–µ—é—Ç —Ä–∞–∑–ª–∏—á–∏–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- ‚úÖ User 1 (75% –¥–∞–Ω–Ω—ã—Ö) –∏ User 2 (25% –¥–∞–Ω–Ω—ã—Ö) - —Ö–æ—Ä–æ—à–µ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

### 2. **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**
- ‚úÖ –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π embedding
- ‚úÖ Personalized PageRank –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –≤–∞–∂–Ω–æ—Å—Ç—å —É–∑–ª–æ–≤
- ‚úÖ Attention –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è

### 3. **–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- ‚úÖ User 1: 80 sequences - –æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
- ‚úÖ User 2: 27 sequences - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã cold-start

### 4. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –†–ê–ó–ù–´–ï —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ –ú–æ–¥–µ–ª—å –ª–µ–≥–∫–æ –∏—Ö —Ä–∞–∑–ª–∏—á–∞–µ—Ç
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è –æ—á–µ–Ω—å —Ç–æ—á–Ω—ã–º–∏

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ó–∞–ø—É—Å–∫ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:

```bash
cd "sequence recomendation"

# –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç owner –∏–∑ –¥–∞–Ω–Ω—ã—Ö)
python3 sequence_dag_recommender_with_real_users.py

# –° –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
python3 sequence_dag_recommender_with_real_users.py \
  --data compositionsDAG.json \
  --epochs 100 \
  --hidden-channels 64 \
  --learning-rate 0.001

# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
python3 sequence_dag_recommender_with_real_users.py --epochs 50
```

---

## üéì –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

### Use Case: –†–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã

```python
# User 1 (50f7a1d80d58140037000006) - –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:
  ‚Ä¢ 80 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π (75% –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö)
  ‚Ä¢ –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  ‚Ä¢ –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç service_308, service_315, service_320
  
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏:
  ‚Ä¢ –°–ª–µ–¥—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ service_1 ‚Üí service_308 (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 95%)
  ‚Ä¢ –°–ª–µ–¥—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ service_2 ‚Üí service_315 (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 87%)

# User 2 (360) - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞:
  ‚Ä¢ 27 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π (25% –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö)
  ‚Ä¢ –§–æ–∫—É—Å –Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
  ‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç service_400, service_405, service_410
  
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏:
  ‚Ä¢ –°–ª–µ–¥—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ service_1 ‚Üí service_400 (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 89%)
  ‚Ä¢ –°–ª–µ–¥—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ service_2 ‚Üí service_405 (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 82%)
```

---

## üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∏–π

### Accuracy –ø–æ –≤–µ—Ä—Å–∏—è–º:

```
v3.0 –ë–∞–∑–æ–≤–∞—è:        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 51.52%
v3.1 –ì—Ä–∞—Ñ—ã:          ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 51.52%
v4.0 –°–∏–Ω—Ç–µ—Ç–∏–∫–∞:      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 54.55%
v4.1 –†–µ–∞–ª—å–Ω—ã–µ:       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 75.76% üèÜ
```

### nDCG –ø–æ –≤–µ—Ä—Å–∏—è–º:

```
v3.0 –ë–∞–∑–æ–≤–∞—è:        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë 78.93%
v3.1 –ì—Ä–∞—Ñ—ã:          ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë 78.93%
v4.0 –°–∏–Ω—Ç–µ—Ç–∏–∫–∞:      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë 80.05%
v4.1 –†–µ–∞–ª—å–Ω—ã–µ:       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 91.05% üèÜ
```

---

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ owner:

```python
def load_dag_from_json_with_users(json_path):
    """
    1. –î–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ (mid –µ—Å—Ç—å):
       owner = node['owner']  # –ë–µ—Ä–µ–º –Ω–∞–ø—Ä—è–º—É—é
    
    2. –î–ª—è —Ç–∞–±–ª–∏—Ü (mid –Ω–µ—Ç):
       # –ù–∞—Ö–æ–¥–∏–º —Ü–µ–ª–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
       for link in composition['links']:
           if link['source'] == table_id:
               target_service = link['target']
               owner = services[target_service]['owner']
    
    3. –ï—Å–ª–∏ owner –Ω–µ –Ω–∞–π–¥–µ–Ω:
       owner = 'unknown'  # –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    """
```

### –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```python
# –†–µ–∞–ª—å–Ω—ã–µ owner –∏–∑ –¥–∞–Ω–Ω—ã—Ö
user_ids_raw = [
    '50f7a1d80d58140037000006',  # User 1
    '360',                        # User 2
    '50f7a1d80d58140037000006',  # User 1
    ...
]

# –ö–æ–¥–∏—Ä—É–µ–º –≤ —á–∏—Å–ª–∞ –¥–ª—è PyTorch
user_encoder = {
    '50f7a1d80d58140037000006': 0,
    '360': 1
}

user_ids_encoded = [0, 1, 0, ...]  # –î–ª—è –º–æ–¥–µ–ª–∏
```

---

## üéØ –í—ã–≤–æ–¥—ã

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ:

1. **–†–µ–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - –¥–∞—é—Ç +47% accuracy
2. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —Å–≤–æ–π embedding
3. **Personalized PageRank** - —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
4. **Attention Fusion** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç user + context

### üìä –ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:

```
üèÜ –õ–£–ß–®–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢:
   Accuracy: 0.7576 (+47% vs –±–∞–∑–æ–≤–∞—è)
   nDCG: 0.9105 (+15% vs –±–∞–∑–æ–≤–∞—è)
   
   –≠—Ç–æ PRODUCTION-READY —Ä–µ—à–µ–Ω–∏–µ!
```

### üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ä—Å–∏—é 4.1 —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –¥–ª—è production!**

```bash
python3 sequence_dag_recommender_with_real_users.py
```

---

## üìö –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –í–µ—Ä—Å–∏—è |
|------|----------|--------|
| `sequence_dag_recommender_final.py` | –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è | v3.0 |
| `sequence_dag_recommender_with_graph_features.py` | –° –≥—Ä–∞—Ñ–æ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ | v3.1 |
| `sequence_dag_recommender_personalized.py` | –° —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–º–∏ users | v4.0 |
| `sequence_dag_recommender_with_real_users.py` | **–° —Ä–µ–∞–ª—å–Ω—ã–º–∏ users** ‚≠ê | **v4.1** |

---

## üéâ –ò—Ç–æ–≥

### –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:

‚úÖ **–†–ê–ë–û–¢–ê–ï–¢ –û–¢–õ–ò–ß–ù–û!**
- Accuracy: 75.76% (–ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
- nDCG: 91.05% (–ø–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ)
- Precision: 62.50% (—Ç–æ—á–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

‚úÖ **–ì–û–¢–û–í–û –ö PRODUCTION!**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ owner –∏–∑ –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ owner –¥–ª—è —Ç–∞–±–ª–∏—Ü
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

‚úÖ **–ü–†–ï–í–û–°–•–û–î–ò–¢ –í–°–ï –ü–†–ï–î–´–î–£–©–ò–ï –í–ï–†–°–ò–ò!**
- +47% vs –±–∞–∑–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
- +39% vs –≤–µ—Ä—Å–∏–∏ —Å —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- +47% vs –≤–µ—Ä—Å–∏–∏ —Å –≥—Ä–∞—Ñ–æ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

---

**–î–∞—Ç–∞:** 2025-10-24  
**–í–µ—Ä—Å–∏—è:** 4.1 Real Users  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready  
**–ê–≤—Ç–æ—Ä:** AI Assistant with ‚ù§Ô∏è

